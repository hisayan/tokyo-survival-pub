(this["webpackJsonptokyo-survival"] = this["webpackJsonptokyo-survival"] || []).push([["main"],{

/***/ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/resolve-url-loader/index.js?!./node_modules/sass-loader/dist/cjs.js?!./src/App.scss":
/*!**************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!./node_modules/postcss-loader/src??postcss!./node_modules/resolve-url-loader??ref--5-oneOf-6-3!./node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!./src/App.scss ***!
  \**************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);
// Imports

var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(true);
// Module
___CSS_LOADER_EXPORT___.push([module.i, ".sidebarStyle {\n  display: inline-block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin: 12px;\n  background-color: #404040;\n  color: #ffffff;\n  z-index: 1 !important;\n  padding: 6px;\n  font-weight: bold; }\n\n.mapContainer.mapboxgl-map {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0; }\n\n.marker {\n  background-color: #f00;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  cursor: pointer; }\n\n#fit {\n  z-index: 1 !important;\n  display: block;\n  position: relative;\n  margin: 0px auto;\n  width: 50%;\n  height: 40px;\n  padding: 10px;\n  border: none;\n  border-radius: 3px;\n  font-size: 12px;\n  text-align: center;\n  color: #fff;\n  background: #ee8a65; }\n\n.header {\n  z-index: 1 !important;\n  display: block;\n  position: relative;\n  margin: 0px auto; }\n", "",{"version":3,"sources":["webpack://src/App.scss"],"names":[],"mappings":"AAAA;EACE,qBAAqB;EACrB,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,YAAY;EACZ,yBAAyB;EACzB,cAAc;EACd,qBAAqB;EACrB,YAAY;EACZ,iBAAiB,EAAA;;AAGnB;EACE,kBAAkB;EAClB,MAAM;EACN,QAAQ;EACR,OAAO;EACP,SAAS,EAAA;;AAGX;EAIE,sBAAsB;EACtB,WAAW;EACX,YAAY;EACZ,kBAAkB;EAClB,eAAe,EAAA;;AAGjB;EACE,qBAAqB;EAErB,cAAc;EACd,kBAAkB;EAClB,gBAAgB;EAChB,UAAU;EACV,YAAY;EACZ,aAAa;EACb,YAAY;EACZ,kBAAkB;EAClB,eAAe;EACf,kBAAkB;EAClB,WAAW;EACX,mBAAmB,EAAA;;AAGrB;EACE,qBAAqB;EAErB,cAAc;EACd,kBAAkB;EAClB,gBAAgB,EAAA","sourcesContent":[".sidebarStyle {\n  display: inline-block;\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin: 12px;\n  background-color: #404040;\n  color: #ffffff;\n  z-index: 1 !important;\n  padding: 6px;\n  font-weight: bold;\n}\n\n.mapContainer.mapboxgl-map {\n  position: absolute;\n  top: 0;\n  right: 0;\n  left: 0;\n  bottom: 0;\n}\n\n.marker {\n  // background-image: url('mapbox-icon.png');\n  // background-size: cover;\n\n  background-color: #f00;\n  width: 10px;\n  height: 10px;\n  border-radius: 50%;\n  cursor: pointer;\n}\n\n#fit {\n  z-index: 1 !important;\n\n  display: block;\n  position: relative;\n  margin: 0px auto;\n  width: 50%;\n  height: 40px;\n  padding: 10px;\n  border: none;\n  border-radius: 3px;\n  font-size: 12px;\n  text-align: center;\n  color: #fff;\n  background: #ee8a65;\n}\n\n.header {\n  z-index: 1 !important;\n\n  display: block;\n  position: relative;\n  margin: 0px auto;\n}"],"sourceRoot":""}]);
// Exports
/* harmony default export */ __webpack_exports__["default"] = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/resolve-url-loader/index.js?!./node_modules/sass-loader/dist/cjs.js?!./src/index.scss":
/*!****************************************************************************************************************************************************************************************************************************************!*\
  !*** ./node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!./node_modules/postcss-loader/src??postcss!./node_modules/resolve-url-loader??ref--5-oneOf-6-3!./node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!./src/index.scss ***!
  \****************************************************************************************************************************************************************************************************************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ../node_modules/css-loader/dist/runtime/api.js */ "./node_modules/css-loader/dist/runtime/api.js");
/* harmony import */ var _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(_node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0__);
// Imports

var ___CSS_LOADER_EXPORT___ = _node_modules_css_loader_dist_runtime_api_js__WEBPACK_IMPORTED_MODULE_0___default()(true);
// Module
___CSS_LOADER_EXPORT___.push([module.i, "html,\nbody {\n  margin: 0;\n  padding: 0; }\n\nbody {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale; }\n", "",{"version":3,"sources":["webpack://src/index.scss"],"names":[],"mappings":"AAAA;;EAEE,SAAS;EACT,UAAU,EAAA;;AAGZ;EACE,8JAEY;EACZ,mCAAmC;EACnC,kCAAkC,EAAA","sourcesContent":["html,\nbody {\n  margin: 0;\n  padding: 0;\n}\n\nbody {\n  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',\n    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',\n    sans-serif;\n  -webkit-font-smoothing: antialiased;\n  -moz-osx-font-smoothing: grayscale;\n}\n"],"sourceRoot":""}]);
// Exports
/* harmony default export */ __webpack_exports__["default"] = (___CSS_LOADER_EXPORT___);


/***/ }),

/***/ "./src/App.scss":
/*!**********************!*\
  !*** ./src/App.scss ***!
  \**********************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var api = __webpack_require__(/*! ../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
            var content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!../node_modules/postcss-loader/src??postcss!../node_modules/resolve-url-loader??ref--5-oneOf-6-3!../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!./App.scss */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/resolve-url-loader/index.js?!./node_modules/sass-loader/dist/cjs.js?!./src/App.scss");

            content = content.__esModule ? content.default : content;

            if (typeof content === 'string') {
              content = [[module.i, content, '']];
            }

var options = {};

options.insert = "head";
options.singleton = false;

var update = api(content, options);


if (true) {
  if (!content.locals || module.hot.invalidate) {
    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {
  if (!a && b || a && !b) {
    return false;
  }

  var p;

  for (p in a) {
    if (isNamedExport && p === 'default') {
      // eslint-disable-next-line no-continue
      continue;
    }

    if (a[p] !== b[p]) {
      return false;
    }
  }

  for (p in b) {
    if (isNamedExport && p === 'default') {
      // eslint-disable-next-line no-continue
      continue;
    }

    if (!a[p]) {
      return false;
    }
  }

  return true;
};
    var oldLocals = content.locals;

    module.hot.accept(
      /*! !../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!../node_modules/postcss-loader/src??postcss!../node_modules/resolve-url-loader??ref--5-oneOf-6-3!../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!./App.scss */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/resolve-url-loader/index.js?!./node_modules/sass-loader/dist/cjs.js?!./src/App.scss",
      function () {
        content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!../node_modules/postcss-loader/src??postcss!../node_modules/resolve-url-loader??ref--5-oneOf-6-3!../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!./App.scss */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/resolve-url-loader/index.js?!./node_modules/sass-loader/dist/cjs.js?!./src/App.scss");

              content = content.__esModule ? content.default : content;

              if (typeof content === 'string') {
                content = [[module.i, content, '']];
              }

              if (!isEqualLocals(oldLocals, content.locals)) {
                module.hot.invalidate();

                return;
              }

              oldLocals = content.locals;

              update(content);
      }
    )
  }

  module.hot.dispose(function() {
    update();
  });
}

module.exports = content.locals || {};

/***/ }),

/***/ "./src/App.tsx":
/*!*********************!*\
  !*** ./src/App.tsx ***!
  \*********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(__react_refresh_utils__, __react_refresh_error_overlay__) {/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var _material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! @material-ui/core/styles */ "./node_modules/@material-ui/core/esm/styles/index.js");
/* harmony import */ var _App_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./App.scss */ "./src/App.scss");
/* harmony import */ var _App_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_App_scss__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! mapbox-gl */ "./node_modules/mapbox-gl/dist/mapbox-gl.js");
/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(mapbox_gl__WEBPACK_IMPORTED_MODULE_4__);
/* harmony import */ var mapbox_gl_dist_mapbox_gl_css__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! mapbox-gl/dist/mapbox-gl.css */ "./node_modules/mapbox-gl/dist/mapbox-gl.css");
/* harmony import */ var mapbox_gl_dist_mapbox_gl_css__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(mapbox_gl_dist_mapbox_gl_css__WEBPACK_IMPORTED_MODULE_5__);
/* harmony import */ var _material_ui_core__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! @material-ui/core */ "./node_modules/@material-ui/core/esm/index.js");
/* harmony import */ var _firebase__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./firebase */ "./src/firebase.ts");
/* harmony import */ var _material_ui_lab__WEBPACK_IMPORTED_MODULE_8__ = __webpack_require__(/*! @material-ui/lab */ "./node_modules/@material-ui/lab/esm/index.js");
/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_9__ = __webpack_require__(/*! md5 */ "./node_modules/md5/md5.js");
/* harmony import */ var md5__WEBPACK_IMPORTED_MODULE_9___default = /*#__PURE__*/__webpack_require__.n(md5__WEBPACK_IMPORTED_MODULE_9__);
/* harmony import */ var _charactor__WEBPACK_IMPORTED_MODULE_10__ = __webpack_require__(/*! ./charactor */ "./src/charactor.ts");
/* harmony import */ var _fire__WEBPACK_IMPORTED_MODULE_11__ = __webpack_require__(/*! ./fire */ "./src/fire.ts");
__webpack_require__.$Refresh$.runtime = __webpack_require__(/*! react-refresh/runtime */ "./node_modules/react-refresh/runtime.js");
__webpack_require__.$Refresh$.setup(module.i);



var _jsxFileName = "C:\\Users\\hisayan\\Documents\\PLATEAU\\tokyo-survival\\src\\App.tsx",
    _s = __webpack_require__.$Refresh$.signature();


 // import ReactDOM from 'react-dom';


 // import { throws } from 'assert';

 // import MapboxDirections from '@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions'
// import '@mapbox/mapbox-gl-directions/dist/mapbox-gl-directions.css'








function getUniqueMd5(myStrong) {
  let strong = 1000;
  if (myStrong) strong = myStrong;
  return md5__WEBPACK_IMPORTED_MODULE_9___default()(new Date().getTime().toString(16) + Math.floor(strong * Math.random()).toString(16));
}

const uniqID = getUniqueMd5();
console.log('uniqID', uniqID);
let initPov = false;
mapbox_gl__WEBPACK_IMPORTED_MODULE_4___default.a.accessToken = "pk.eyJ1IjoiaGlzYXlhbiIsImEiOiJjamZmbmRnazgxd3Y0MnptczRxeGZ3ZWNxIn0.5fLsZKfr7Y1LWgjDJVkoIg";
const useStyles = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__["makeStyles"])(theme => Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__["createStyles"])({
  paper: {
    display: 'flex',
    border: `1px solid ${theme.palette.divider}`,
    flexWrap: 'wrap'
  },
  divider: {
    margin: theme.spacing(1, 0.5)
  }
}));
const StyledToggleButtonGroup = Object(_material_ui_core_styles__WEBPACK_IMPORTED_MODULE_2__["withStyles"])(theme => ({
  grouped: {
    backgroundColor: '#fff',
    margin: theme.spacing(0.5),
    border: 'none',
    '&:not(:first-child)': {
      borderRadius: theme.shape.borderRadius
    },
    '&:first-child': {
      borderRadius: theme.shape.borderRadius
    }
  }
}))(_material_ui_lab__WEBPACK_IMPORTED_MODULE_8__["ToggleButtonGroup"]); // const styles: CSSProperties = {
//   width: '100vw',
//   height: 'calc(100vh - 80px)',
//   position: 'absolute',
// };
// type Coordinate = [number, number]
// type Coordinates<Coordinate> = [<Coordinate>]

const params = new URLSearchParams(document.location.search.toString());
const roomName = params.get("room"); // const roomName = new URL(document.location.toString()).pathname;

if (!roomName || roomName == '/') {
  let roomName = null;
  roomName = window.prompt("please input room's name"); // window.location.href = window.location.href + "/" + roomName;

  if (roomName != null) {
    // window.location.replace("/" + roomName);
    window.location.replace(window.location.pathname + '?room=' + roomName);
  } else {
    window.location.reload();
  }
} // // TODO: キャンセル処理をいれよう
// https://qiita.com/tminasen/items/03a2e736910e937bb61f


const povRef = _firebase__WEBPACK_IMPORTED_MODULE_7__["db"].ref(roomName + '/pov');
const followMeRef = _firebase__WEBPACK_IMPORTED_MODULE_7__["db"].ref(roomName + '/followMe'); // https://blog.mapbox.com/global-elevation-data-6689f1d0ba65
// height = -10000 + ((R * 256 * 256 + G * 256 + B) * 0.1)

async function getElevation(lng, lat) {
  // make API request
  var query = 'https://api.mapbox.com/v4/mapbox.mapbox-terrain-v2/tilequery/' + lng + ',' + lat + '.json?layers=contour&limit=50&access_token=' + mapbox_gl__WEBPACK_IMPORTED_MODULE_4___default.a.accessToken;
  console.log(query);
  fetch(query, {
    method: "get"
  }).then(response => response.text()).then(data => {
    // Display the longitude and latitude values
    // lngDisplay.textContent = lng.toFixed(2);
    // latDisplay.textContent = lat.toFixed(2);
    // Get all the returned features
    let d = JSON.parse(data);
    var allFeatures = d.features;
    console.log(allFeatures); // Create an empty array to add elevation data to

    var elevations = []; // For each returned feature, add elevation data to the elevations array

    for (var i = 0; i < allFeatures.length; i++) {
      elevations.push(allFeatures[i].properties.ele);
    } // In the elevations array, find the largest value


    var highestElevation = Math.max(...elevations); // Display the largest elevation value

    console.log(highestElevation);
    return highestElevation;
  });
}

let charactor;
let fires = [];

const App = () => {
  _s();

  const [user, setUser] = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(null);
  const [runaway, setRunaway] = Object(react__WEBPACK_IMPORTED_MODULE_1__["useReducer"])((runaway, action) => {
    // console.log(action)  
    // console.log([...runaway, action])
    switch (action.type) {
      case 'ADD':
        const newLngLat = {
          id: action.id,
          lngLat: action.lngLat
        };
        return [...runaway, newLngLat];
        break;

      case 'MOVE':
        const b = [];

        for (let i = 0; i < runaway.length; i++) {
          if (runaway[i].id == action.id) {
            b.push({
              id: action.id,
              lngLat: action.lngLat
            });
          } else {
            b.push(runaway[i]);
          }
        }

        return b;
    }

    return runaway;
  }, []);
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(() => {
    _firebase__WEBPACK_IMPORTED_MODULE_7__["default"].auth().signInAnonymously().catch(function (error) {
      console.log(`${error.code}, ${error.message}`);
    });
    _firebase__WEBPACK_IMPORTED_MODULE_7__["default"].auth().onAuthStateChanged(user => {
      console.log(user);
      setUser(user);
    });
  }, []);
  const [map, setMap] = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])(null); // point of view  
  // const [map, setMap] = useState<Map | null>(null)

  const [followMe, setFollowMe] = Object(react__WEBPACK_IMPORTED_MODULE_1__["useReducer"])((followMe, action) => {
    if (action) {
      followMeRef.update({
        owner: uniqID,
        last_changed: _firebase__WEBPACK_IMPORTED_MODULE_7__["default"].database.ServerValue.TIMESTAMP
      });
    }

    return action;
  }, false);
  const [pov, setPov] = Object(react__WEBPACK_IMPORTED_MODULE_1__["useReducer"])((pov, action) => {
    if (followMe) {
      console.log('followMe update', action);
      povRef.update(action);
    }

    return action;
  }, {
    lng: 139.7,
    lat: 35.68,
    zoom: 17,
    pitch: 85,
    bearing: 80
  });
  const [directions, setDirecrtions] = Object(react__WEBPACK_IMPORTED_MODULE_1__["useReducer"])((directions, action) => {
    return action;
  }, {}); // const [followMe, setFollowMe] = useReducer((f: boolean, action: boolean)=>{
  //   console.log('reducer', f, action)
  //   return action
  // }, false)

  const mapContainer = Object(react__WEBPACK_IMPORTED_MODULE_1__["useRef"])(null); // private db: any = null;

  const [operation, setOperation] = Object(react__WEBPACK_IMPORTED_MODULE_1__["useState"])('fire');
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(() => {
    console.log('useEffect'); // const params = new URL(document.location.toString()).searchParams;
    // let roomName = params.get("room_name");

    const initializeMap = ({
      setMap,
      mapContainer
    }) => {
      const map = new mapbox_gl__WEBPACK_IMPORTED_MODULE_4___default.a.Map({
        container: mapContainer.current !== null ? mapContainer.current : "",
        // style: "mapbox://styles/mapbox/streets-v11", // stylesheet location
        style: "mapbox://styles/hisayan/ckl0k4enf0lwl17nvffsjmwv4",
        center: [pov.lng, pov.lat],
        zoom: pov.zoom,
        pitch: pov.pitch,
        bearing: pov.bearing,
        antialias: true // どっちでもいいかも

      });
      map.on('load', () => {
        // setMap(map);
        // map.resize();
        // const directions = new MapboxDirections({
        //   accessToken: mapboxgl.accessToken,
        //   unit: "metric",
        //   profile: "mapbox/walking",
        //   alternatives: false,
        //   geometries: "geojson",
        //   controls: { instructions: false },
        //   flyTo: false
        // });
        // map?.addControl(directions, "top-right");
        // directions.on('route', (e: any) => {
        //   console.log(e)
        // })
        map === null || map === void 0 ? void 0 : map.on('move', () => {
          setPov({
            lng: map.getCenter().lng,
            lat: map.getCenter().lat,
            zoom: map.getZoom(),
            pitch: map.getPitch(),
            bearing: map.getBearing()
          });
        }); // 初期値。どうしてじゃ
        // console.log('move', followMe.toString(), JSON.stringify(pov))

        charactor = new _charactor__WEBPACK_IMPORTED_MODULE_10__["default"]({
          lng: 139.7,
          lat: 35.68
        });
        map === null || map === void 0 ? void 0 : map.addLayer(charactor.charactorLayer);
        map === null || map === void 0 ? void 0 : map.addSource('mapbox-dem', {
          'type': 'raster-dem',
          'url': 'mapbox://mapbox.mapbox-terrain-dem-v1',
          'tileSize': 512,
          'maxzoom': 14
        }); // add the DEM source as a terrain layer with exaggerated height

        map === null || map === void 0 ? void 0 : map.setTerrain({
          'source': 'mapbox-dem',
          'exaggeration': 1.0
        });
        map === null || map === void 0 ? void 0 : map.addSource("theRoute", {
          type: "geojson" // data: {
          //  type: "Feature",
          // },

        });
        map === null || map === void 0 ? void 0 : map.addLayer({
          id: "theRoute",
          type: "line",
          source: "theRoute",
          layout: {
            "line-join": "round",
            "line-cap": "round"
          },
          paint: {
            "line-color": "#cccccc",
            "line-opacity": 0.5,
            "line-width": 13,
            "line-blur": 0.5
          }
        }); // add a sky layer that will show when the map is highly pitched

        map === null || map === void 0 ? void 0 : map.addLayer({
          'id': 'sky',
          'type': 'sky',
          'paint': {
            'sky-type': 'atmosphere',
            'sky-atmosphere-sun': [0.0, 0.0],
            'sky-atmosphere-sun-intensity': 15
          }
        });
        map === null || map === void 0 ? void 0 : map.addSource('route-source', {
          'type': 'geojson',
          'data': {
            'type': 'Feature',
            'properties': {},
            'geometry': {
              'type': 'LineString',
              'coordinates': []
            }
          }
        });
        map === null || map === void 0 ? void 0 : map.addLayer({
          'id': 'routeroute',
          'type': 'line',
          'source': 'route-source',
          'layout': {
            'line-join': 'round',
            'line-cap': 'round'
          },
          'paint': {
            'line-color': '#888',
            'line-width': 8
          }
        });
        setMap(map);
      });
    };

    if (!map) initializeMap({
      setMap,
      mapContainer
    });
    return () => {
      map === null || map === void 0 ? void 0 : map.remove();
    };
  }, [map]);
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(() => {
    console.log('useeffect map');

    const onClick = async e => {
      // console.log('click', e.lngLat, await getElevation(e.lngLat.lng, e.lngLat.lat));
      // const routeLine = polyline.encode([[e.lngLat.lng, e.lngLat.lat], [40.7, -120.95], [43.252, -126.453]]);
      // const lng = e.lngLat.lng;
      switch (operation) {
        case 'line':
          var el = document.createElement('div');
          el.className = 'marker';
          el.id = getUniqueMd5();

          if (map) {
            const marker = new mapbox_gl__WEBPACK_IMPORTED_MODULE_4___default.a.Marker({
              element: el,
              draggable: true
            }).setLngLat(e.lngLat).addTo(map);
            let a = {
              type: 'ADD',
              id: el.id,
              lngLat: e.lngLat
            };
            setRunaway(a);

            const onDragEnd = () => {
              var lngLat = marker.getLngLat();
              console.log(lngLat); // coordinates.style.display = 'block';
              // coordinates.innerHTML =
              // 'Longitude: ' + lngLat.lng + '<br />Latitude: ' + lngLat.lat;

              setRunaway({
                type: 'MOVE',
                id: el.id,
                lngLat: lngLat
              });
            };

            marker.on('dragend', onDragEnd); // marker.setPopup(new mapboxgl.Popup({ offset: 25 }).setHTML('<h4>remove</h4'));
          }

          break;

        case 'char':
          charactor.setLngLat(e.lngLat);
          break;

        case 'fire':
          let fire = new _fire__WEBPACK_IMPORTED_MODULE_11__["default"](e.lngLat, "fire_layer_" + fires.length);
          map === null || map === void 0 ? void 0 : map.addLayer(fire.charactorLayer());
          fires.push(fire);
          break;
      }
    };

    map === null || map === void 0 ? void 0 : map.on('click', onClick);
    return () => {
      map === null || map === void 0 ? void 0 : map.off('click', onClick); // map?.removeLayer('routeroute')
      // map?.removeSource('route-source')
    };
  }, [map, followMe, operation]);
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(() => {
    var _map$getSource;

    map === null || map === void 0 ? void 0 : (_map$getSource = map.getSource('route-source')) === null || _map$getSource === void 0 ? void 0 : _map$getSource.setData({
      'type': 'Feature',
      'properties': {},
      'geometry': {
        'type': 'LineString',
        'coordinates': runaway.map(e => [e.lngLat.lng, e.lngLat.lat])
      }
    });
  }, [runaway]);
  Object(react__WEBPACK_IMPORTED_MODULE_1__["useEffect"])(() => {
    povRef.on("value", value => {
      console.log("povRef.on", value);
      const pov = value.val(); // setPov(pov)

      if (!followMe && pov && initPov) {
        map === null || map === void 0 ? void 0 : map.jumpTo({
          center: [pov.lng, pov.lat],
          zoom: pov.zoom,
          pitch: pov.pitch,
          bearing: pov.bearing
        });
      }

      initPov = true;
    }); // これはまぁ、こういうかんじかな

    followMeRef.on("value", value => {
      const fm = value.val();

      if (fm.owner != uniqID && followMe) {
        setFollowMe(false);
      }
    });
    return () => {
      povRef.off('value');
      followMeRef.off('value');
    };
  }, [followMe, uniqID, map]);

  const syncView = () => {
    // map?.fitBounds([
    //   [32.958984, -5.353521],
    //   [43.50585, 5.615985]
    // ]);
    console.log('syncView', followMe.toString()); // // これを state にもたせるべきか
    // map?.addSource('route', {
    //   'type': 'geojson',
    //   'data': {
    //     'type': 'Feature',
    //     'properties': [],
    //     'geometry': {
    //       'type': 'LineString',
    //       'coordinates': [
    //         [139.7, 35.68],
    //         [139.71, 35.682],
    //       ]
    //     }
    //   }
    // })
    // // add a sky layer that will show when the map is highly pitched
    // map?.addLayer({
    //   'id': 'route',
    //   'type': 'line',
    //   'source': 'route',
    //   'layout': {
    //     'line-join': 'round',
    //     'line-cap': 'round'
    //   },
    //   'paint': {
    //     'line-color': '#800',
    //     'line-width': 8
    //   }
    // });
  };

  const toggleChecked = (e, checked) => {
    console.log('toggleChecked');
    setFollowMe(checked);

    if (checked) {
      setPov({
        lng: map === null || map === void 0 ? void 0 : map.getCenter().lng,
        lat: map === null || map === void 0 ? void 0 : map.getCenter().lat,
        zoom: map === null || map === void 0 ? void 0 : map.getZoom(),
        pitch: map === null || map === void 0 ? void 0 : map.getPitch(),
        bearing: map === null || map === void 0 ? void 0 : map.getBearing()
      });
    }
  };

  const handleOperation = (event, newOperation) => {
    setOperation(newOperation);
  };

  return /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])("div", {
    children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])("div", {
      className: "header",
      children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])("button", {
        id: "fit",
        onClick: syncView,
        children: "sync view"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 521,
        columnNumber: 9
      }, undefined), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__["FormControlLabel"], {
        control: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])(_material_ui_core__WEBPACK_IMPORTED_MODULE_6__["Switch"], {
          checked: followMe,
          onChange: toggleChecked
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 523,
          columnNumber: 20
        }, undefined),
        label: "Follow me",
        labelPlacement: "start"
      }, void 0, false, {
        fileName: _jsxFileName,
        lineNumber: 522,
        columnNumber: 9
      }, undefined), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])(StyledToggleButtonGroup, {
        value: operation,
        onChange: handleOperation,
        exclusive: true,
        "aria-label": "text formatting",
        children: [/*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])(_material_ui_lab__WEBPACK_IMPORTED_MODULE_8__["ToggleButton"], {
          value: "line",
          "aria-label": "line",
          children: "line"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 529,
          columnNumber: 11
        }, undefined), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])(_material_ui_lab__WEBPACK_IMPORTED_MODULE_8__["ToggleButton"], {
          value: "fire",
          "aria-label": "fire",
          children: "fire"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 532,
          columnNumber: 11
        }, undefined), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])(_material_ui_lab__WEBPACK_IMPORTED_MODULE_8__["ToggleButton"], {
          value: "char",
          "aria-label": "char",
          children: "char"
        }, void 0, false, {
          fileName: _jsxFileName,
          lineNumber: 535,
          columnNumber: 11
        }, undefined)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 528,
        columnNumber: 9
      }, undefined)]
    }, void 0, true, {
      fileName: _jsxFileName,
      lineNumber: 520,
      columnNumber: 7
    }, undefined), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])("div", {
      className: "sidebarStyle",
      children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])("div", {
        children: ["Longitude: ", pov.lng.toFixed(4), " | Latitude: ", pov.lat.toFixed(4), " | Zoom: ", pov.zoom.toFixed(2), " | Pitch: ", pov.pitch.toFixed(2), " | Bearing: ", pov.bearing.toFixed(2)]
      }, void 0, true, {
        fileName: _jsxFileName,
        lineNumber: 541,
        columnNumber: 9
      }, undefined)
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 540,
      columnNumber: 7
    }, undefined), /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])("div", {
      ref: mapContainer,
      id: "mapContainer",
      className: "mapContainer"
    }, void 0, false, {
      fileName: _jsxFileName,
      lineNumber: 543,
      columnNumber: 7
    }, undefined)]
  }, void 0, true, {
    fileName: _jsxFileName,
    lineNumber: 519,
    columnNumber: 5
  }, undefined);
};

_s(App, "t/cNKYDWhGgzUi+I5lgIOO/n/vg=");

_c = App;
/* harmony default export */ __webpack_exports__["default"] = (App);

var _c;

__webpack_require__.$Refresh$.register(_c, "App");

const currentExports = __react_refresh_utils__.getModuleExports(module.i);
__react_refresh_utils__.registerExportsForReactRefresh(currentExports, module.i);

if (true) {
  const isHotUpdate = !!module.hot.data;
  const prevExports = isHotUpdate ? module.hot.data.prevExports : null;

  if (__react_refresh_utils__.isReactRefreshBoundary(currentExports)) {
    module.hot.dispose(
      /**
       * A callback to performs a full refresh if React has unrecoverable errors,
       * and also caches the to-be-disposed module.
       * @param {*} data A hot module data object from Webpack HMR.
       * @returns {void}
       */
      function hotDisposeCallback(data) {
        // We have to mutate the data object to get data registered and cached
        data.prevExports = currentExports;
      }
    );
    module.hot.accept(
      /**
       * An error handler to allow self-recovering behaviours.
       * @param {Error} error An error occurred during evaluation of a module.
       * @returns {void}
       */
      function hotErrorHandler(error) {
        if (
          typeof __react_refresh_error_overlay__ !== 'undefined' &&
          __react_refresh_error_overlay__
        ) {
          __react_refresh_error_overlay__.handleRuntimeError(error);
        }

        if (typeof __react_refresh_test__ !== 'undefined' && __react_refresh_test__) {
          if (window.onHotAcceptError) {
            window.onHotAcceptError(error.message);
          }
        }

        __webpack_require__.c[module.i].hot.accept(hotErrorHandler);
      }
    );

    if (isHotUpdate) {
      if (
        __react_refresh_utils__.isReactRefreshBoundary(prevExports) &&
        __react_refresh_utils__.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)
      ) {
        module.hot.invalidate();
      } else {
        __react_refresh_utils__.enqueueUpdate(
          /**
           * A function to dismiss the error overlay after performing React refresh.
           * @returns {void}
           */
          function updateCallback() {
            if (
              typeof __react_refresh_error_overlay__ !== 'undefined' &&
              __react_refresh_error_overlay__
            ) {
              __react_refresh_error_overlay__.clearRuntimeErrors();
            }
          }
        );
      }
    }
  } else {
    if (isHotUpdate && __react_refresh_utils__.isReactRefreshBoundary(prevExports)) {
      module.hot.invalidate();
    }
  }
}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ "./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js"), __webpack_require__(/*! ./node_modules/react-dev-utils/refreshOverlayInterop.js */ "./node_modules/react-dev-utils/refreshOverlayInterop.js")))

/***/ }),

/***/ "./src/charactor.ts":
/*!**************************!*\
  !*** ./src/charactor.ts ***!
  \**************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(__react_refresh_utils__, __react_refresh_error_overlay__) {/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");
/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ "./node_modules/three/examples/jsm/loaders/GLTFLoader.js");
/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mapbox-gl */ "./node_modules/mapbox-gl/dist/mapbox-gl.js");
/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(mapbox_gl__WEBPACK_IMPORTED_MODULE_2__);
__webpack_require__.$Refresh$.runtime = __webpack_require__(/*! react-refresh/runtime */ "./node_modules/react-refresh/runtime.js");
__webpack_require__.$Refresh$.setup(module.i);





class Charactor {
  // parameters to ensure the model is georeferenced correctly on the map
  // elevation
  // https://github.com/mapbox/mapbox-gl-js/issues/10318
  // elevation
  // https://github.com/mapbox/mapbox-gl-js/issues/10318
  constructor(lngLat) {
    this.modelOrigin = [139.6947214379419, 35.679861724509934];
    this.modelAltitude = 0;
    this.modelRotate = [Math.PI / 2, 0, 0];
    this.modelAsMercatorCoordinate = void 0;
    this.modelTransform = {};
    this.clock = new three__WEBPACK_IMPORTED_MODULE_0__["Clock"]();
    this.mixer = void 0;
    this.camera = void 0;
    this.scene = void 0;
    this.renderer = void 0;
    this.map = void 0;
    this.charactorLayer = {
      id: '3d-model',
      type: 'custom',
      renderingMode: '3d',
      onAdd: (map, gl) => {
        this.camera = new three__WEBPACK_IMPORTED_MODULE_0__["Camera"]();
        this.scene = new three__WEBPACK_IMPORTED_MODULE_0__["Scene"](); // create two three.js lights to illuminate the model

        var directionalLight = new three__WEBPACK_IMPORTED_MODULE_0__["DirectionalLight"](0xffffff);
        directionalLight.position.set(0, -70, 100).normalize();
        this.scene.add(directionalLight);
        var directionalLight2 = new three__WEBPACK_IMPORTED_MODULE_0__["DirectionalLight"](0xffffff);
        directionalLight2.position.set(0, 70, 100).normalize();
        this.scene.add(directionalLight2); // use the three.js GLTF loader to add the 3D model to the three.js scene

        var loader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_1__["GLTFLoader"]();
        loader.load( // 'https://cdn.glitch.com/378a8eca-f405-469a-b32e-b603069e5372%2Funtitled.glb?v=1584360698775',
        './RunningBoy.glb', gltf => {
          var _this$scene;

          const obj = gltf.scene;
          const animations = gltf.animations;

          if (animations && animations.length) {
            //Animation Mixerインスタンスを生成
            this.mixer = new three__WEBPACK_IMPORTED_MODULE_0__["AnimationMixer"](obj); //全てのAnimation Clipに対して

            for (let i = 0; i < animations.length; i++) {
              let animation = animations[i]; //Animation Actionを生成

              let action = this.mixer.clipAction(animation); //ループ設定（1回のみ）
              // action.setLoop(THREE.LoopOnce);
              //アニメーションの最後のフレームでアニメーションが終了
              // action.clampWhenFinished = true;

              console.log('play'); //アニメーションを再生

              action.play();
            }
          }

          (_this$scene = this.scene) === null || _this$scene === void 0 ? void 0 : _this$scene.add(gltf.scene);
        } // .bind(this)
        );
        this.map = map;
        this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__["WebGLRenderer"]({
          canvas: map.getCanvas(),
          context: gl,
          antialias: true
        });
        this.renderer.autoClear = false;
      },
      render: (gl, matrix) => {
        var _this$renderer, _this$renderer2;

        // requestAnimationFrame(() => { this.render(); });
        var rotationX = new three__WEBPACK_IMPORTED_MODULE_0__["Matrix4"]().makeRotationAxis(new three__WEBPACK_IMPORTED_MODULE_0__["Vector3"](1, 0, 0), this.modelTransform.rotateX);
        var rotationY = new three__WEBPACK_IMPORTED_MODULE_0__["Matrix4"]().makeRotationAxis(new three__WEBPACK_IMPORTED_MODULE_0__["Vector3"](0, 1, 0), this.modelTransform.rotateY);
        var rotationZ = new three__WEBPACK_IMPORTED_MODULE_0__["Matrix4"]().makeRotationAxis(new three__WEBPACK_IMPORTED_MODULE_0__["Vector3"](0, 0, 1), this.modelTransform.rotateZ);
        var m = new three__WEBPACK_IMPORTED_MODULE_0__["Matrix4"]().fromArray(matrix); // console.log(map.painter.terrain.getAtPoint(modelAsMercatorCoordinate) * modelTransform.scale * 100)

        var l = new three__WEBPACK_IMPORTED_MODULE_0__["Matrix4"]().makeTranslation(this.modelTransform.translateX, this.modelTransform.translateY, // (modelTransform.translateZ?? 0) + 0.000001852
        this.map.painter.terrain.getAtPoint(this.modelAsMercatorCoordinate) * this.modelTransform.scale * 100).scale(new three__WEBPACK_IMPORTED_MODULE_0__["Vector3"](this.modelTransform.scale, -this.modelTransform.scale, this.modelTransform.scale)).multiply(rotationX).multiply(rotationY).multiply(rotationZ);

        if (this.mixer) {
          this.mixer.update(this.clock.getDelta());
        }

        if (this.camera) {
          this.camera.projectionMatrix = m.multiply(l);
        }

        (_this$renderer = this.renderer) === null || _this$renderer === void 0 ? void 0 : _this$renderer.state.reset();
        (_this$renderer2 = this.renderer) === null || _this$renderer2 === void 0 ? void 0 : _this$renderer2.render(this.scene, this.camera);
        this.map.triggerRepaint();
      }
    };
    this.setLngLat(lngLat);
  }

  setLngLat(lngLat) {
    this.modelAsMercatorCoordinate = mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default.a.MercatorCoordinate.fromLngLat(lngLat, this.modelAltitude);
    this.modelTransform = {
      translateX: this.modelAsMercatorCoordinate.x,
      translateY: this.modelAsMercatorCoordinate.y,
      translateZ: this.modelAsMercatorCoordinate.z,
      rotateX: this.modelRotate[0],
      rotateY: this.modelRotate[1],
      rotateZ: this.modelRotate[2],

      /* Since our 3D model is in real world meters, a scale transform needs to be
       * applied since the CustomLayerInterface expects units in MercatorCoordinates.
       */
      scale: this.modelAsMercatorCoordinate.meterInMercatorCoordinateUnits() / 100
    };
  }

}

/* harmony default export */ __webpack_exports__["default"] = (Charactor);

const currentExports = __react_refresh_utils__.getModuleExports(module.i);
__react_refresh_utils__.registerExportsForReactRefresh(currentExports, module.i);

if (true) {
  const isHotUpdate = !!module.hot.data;
  const prevExports = isHotUpdate ? module.hot.data.prevExports : null;

  if (__react_refresh_utils__.isReactRefreshBoundary(currentExports)) {
    module.hot.dispose(
      /**
       * A callback to performs a full refresh if React has unrecoverable errors,
       * and also caches the to-be-disposed module.
       * @param {*} data A hot module data object from Webpack HMR.
       * @returns {void}
       */
      function hotDisposeCallback(data) {
        // We have to mutate the data object to get data registered and cached
        data.prevExports = currentExports;
      }
    );
    module.hot.accept(
      /**
       * An error handler to allow self-recovering behaviours.
       * @param {Error} error An error occurred during evaluation of a module.
       * @returns {void}
       */
      function hotErrorHandler(error) {
        if (
          typeof __react_refresh_error_overlay__ !== 'undefined' &&
          __react_refresh_error_overlay__
        ) {
          __react_refresh_error_overlay__.handleRuntimeError(error);
        }

        if (typeof __react_refresh_test__ !== 'undefined' && __react_refresh_test__) {
          if (window.onHotAcceptError) {
            window.onHotAcceptError(error.message);
          }
        }

        __webpack_require__.c[module.i].hot.accept(hotErrorHandler);
      }
    );

    if (isHotUpdate) {
      if (
        __react_refresh_utils__.isReactRefreshBoundary(prevExports) &&
        __react_refresh_utils__.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)
      ) {
        module.hot.invalidate();
      } else {
        __react_refresh_utils__.enqueueUpdate(
          /**
           * A function to dismiss the error overlay after performing React refresh.
           * @returns {void}
           */
          function updateCallback() {
            if (
              typeof __react_refresh_error_overlay__ !== 'undefined' &&
              __react_refresh_error_overlay__
            ) {
              __react_refresh_error_overlay__.clearRuntimeErrors();
            }
          }
        );
      }
    }
  } else {
    if (isHotUpdate && __react_refresh_utils__.isReactRefreshBoundary(prevExports)) {
      module.hot.invalidate();
    }
  }
}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ "./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js"), __webpack_require__(/*! ./node_modules/react-dev-utils/refreshOverlayInterop.js */ "./node_modules/react-dev-utils/refreshOverlayInterop.js")))

/***/ }),

/***/ "./src/fire.ts":
/*!*********************!*\
  !*** ./src/fire.ts ***!
  \*********************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(__react_refresh_utils__, __react_refresh_error_overlay__) {/* harmony import */ var three__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! three */ "./node_modules/three/build/three.module.js");
/* harmony import */ var three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! three/examples/jsm/loaders/GLTFLoader */ "./node_modules/three/examples/jsm/loaders/GLTFLoader.js");
/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! mapbox-gl */ "./node_modules/mapbox-gl/dist/mapbox-gl.js");
/* harmony import */ var mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(mapbox_gl__WEBPACK_IMPORTED_MODULE_2__);
__webpack_require__.$Refresh$.runtime = __webpack_require__(/*! react-refresh/runtime */ "./node_modules/react-refresh/runtime.js");
__webpack_require__.$Refresh$.setup(module.i);





class Fire {
  // parameters to ensure the model is georeferenced correctly on the map
  // elevation
  // https://github.com/mapbox/mapbox-gl-js/issues/10318
  // elevation
  // https://github.com/mapbox/mapbox-gl-js/issues/10318
  constructor(lngLat, layerId) {
    this.layerId = void 0;
    this.modelOrigin = [139.6947214379419, 35.679861724509934];
    this.modelAltitude = 0;
    this.modelRotate = [Math.PI / 2, 0, 0];
    this.modelAsMercatorCoordinate = void 0;
    this.modelTransform = {};
    this.clock = new three__WEBPACK_IMPORTED_MODULE_0__["Clock"]();
    this.mixer = void 0;
    this.camera = void 0;
    this.scene = void 0;
    this.renderer = void 0;
    this.map = void 0;
    this.layerId = layerId;
    this.setLngLat(lngLat);
  }

  setLngLat(lngLat) {
    this.modelAsMercatorCoordinate = mapbox_gl__WEBPACK_IMPORTED_MODULE_2___default.a.MercatorCoordinate.fromLngLat(lngLat, this.modelAltitude);
    this.modelTransform = {
      translateX: this.modelAsMercatorCoordinate.x,
      translateY: this.modelAsMercatorCoordinate.y,
      translateZ: this.modelAsMercatorCoordinate.z,
      rotateX: this.modelRotate[0],
      rotateY: this.modelRotate[1],
      rotateZ: this.modelRotate[2],

      /* Since our 3D model is in real world meters, a scale transform needs to be
       * applied since the CustomLayerInterface expects units in MercatorCoordinates.
       */
      scale: this.modelAsMercatorCoordinate.meterInMercatorCoordinateUnits() * 100
    };
  }

  // transformation parameters to position, rotate and scale the 3D model onto the map
  // configuration of the custom layer for a 3D model per the CustomLayerInterface
  charactorLayer() {
    return {
      id: this.layerId,
      type: 'custom',
      renderingMode: '3d',
      onAdd: (map, gl) => {
        this.camera = new three__WEBPACK_IMPORTED_MODULE_0__["Camera"]();
        this.scene = new three__WEBPACK_IMPORTED_MODULE_0__["Scene"](); // create two three.js lights to illuminate the model

        var directionalLight = new three__WEBPACK_IMPORTED_MODULE_0__["DirectionalLight"](0xffffff);
        directionalLight.position.set(0, -70, 100).normalize();
        this.scene.add(directionalLight);
        var directionalLight2 = new three__WEBPACK_IMPORTED_MODULE_0__["DirectionalLight"](0xffffff);
        directionalLight2.position.set(0, 70, 100).normalize();
        this.scene.add(directionalLight2); // use the three.js GLTF loader to add the 3D model to the three.js scene

        var loader = new three_examples_jsm_loaders_GLTFLoader__WEBPACK_IMPORTED_MODULE_1__["GLTFLoader"]();
        loader.load( // 'https://cdn.glitch.com/378a8eca-f405-469a-b32e-b603069e5372%2Funtitled.glb?v=1584360698775',
        './fire/scene.gltf', gltf => {
          var _this$scene;

          const obj = gltf.scene;
          const animations = gltf.animations;

          if (animations && animations.length) {
            //Animation Mixerインスタンスを生成
            this.mixer = new three__WEBPACK_IMPORTED_MODULE_0__["AnimationMixer"](obj); //全てのAnimation Clipに対して

            for (let i = 0; i < animations.length; i++) {
              let animation = animations[i]; //Animation Actionを生成

              let action = this.mixer.clipAction(animation); //ループ設定（1回のみ）
              // action.setLoop(THREE.LoopOnce);
              //アニメーションの最後のフレームでアニメーションが終了
              // action.clampWhenFinished = true;

              console.log('play'); //アニメーションを再生

              action.play();
            }
          }

          (_this$scene = this.scene) === null || _this$scene === void 0 ? void 0 : _this$scene.add(gltf.scene);
        } // .bind(this)
        );
        this.map = map;
        this.renderer = new three__WEBPACK_IMPORTED_MODULE_0__["WebGLRenderer"]({
          canvas: map.getCanvas(),
          context: gl,
          antialias: true
        });
        this.renderer.autoClear = false;
      },
      render: (gl, matrix) => {
        var _this$renderer, _this$renderer2;

        // requestAnimationFrame(() => { this.render(); });
        var rotationX = new three__WEBPACK_IMPORTED_MODULE_0__["Matrix4"]().makeRotationAxis(new three__WEBPACK_IMPORTED_MODULE_0__["Vector3"](1, 0, 0), this.modelTransform.rotateX);
        var rotationY = new three__WEBPACK_IMPORTED_MODULE_0__["Matrix4"]().makeRotationAxis(new three__WEBPACK_IMPORTED_MODULE_0__["Vector3"](0, 1, 0), this.modelTransform.rotateY);
        var rotationZ = new three__WEBPACK_IMPORTED_MODULE_0__["Matrix4"]().makeRotationAxis(new three__WEBPACK_IMPORTED_MODULE_0__["Vector3"](0, 0, 1), this.modelTransform.rotateZ);
        var m = new three__WEBPACK_IMPORTED_MODULE_0__["Matrix4"]().fromArray(matrix); // console.log(map.painter.terrain.getAtPoint(modelAsMercatorCoordinate) * modelTransform.scale * 100)

        var l = new three__WEBPACK_IMPORTED_MODULE_0__["Matrix4"]().makeTranslation(this.modelTransform.translateX, this.modelTransform.translateY, // (modelTransform.translateZ?? 0) + 0.000001852
        this.map.painter.terrain.getAtPoint(this.modelAsMercatorCoordinate) * this.modelTransform.scale / 100).scale(new three__WEBPACK_IMPORTED_MODULE_0__["Vector3"](this.modelTransform.scale, -this.modelTransform.scale, this.modelTransform.scale)).multiply(rotationX).multiply(rotationY).multiply(rotationZ);

        if (this.mixer) {
          this.mixer.update(this.clock.getDelta());
        }

        if (this.camera) {
          this.camera.projectionMatrix = m.multiply(l);
        }

        (_this$renderer = this.renderer) === null || _this$renderer === void 0 ? void 0 : _this$renderer.state.reset();
        (_this$renderer2 = this.renderer) === null || _this$renderer2 === void 0 ? void 0 : _this$renderer2.render(this.scene, this.camera);
        this.map.triggerRepaint();
      }
    };
  }

}

/* harmony default export */ __webpack_exports__["default"] = (Fire);

const currentExports = __react_refresh_utils__.getModuleExports(module.i);
__react_refresh_utils__.registerExportsForReactRefresh(currentExports, module.i);

if (true) {
  const isHotUpdate = !!module.hot.data;
  const prevExports = isHotUpdate ? module.hot.data.prevExports : null;

  if (__react_refresh_utils__.isReactRefreshBoundary(currentExports)) {
    module.hot.dispose(
      /**
       * A callback to performs a full refresh if React has unrecoverable errors,
       * and also caches the to-be-disposed module.
       * @param {*} data A hot module data object from Webpack HMR.
       * @returns {void}
       */
      function hotDisposeCallback(data) {
        // We have to mutate the data object to get data registered and cached
        data.prevExports = currentExports;
      }
    );
    module.hot.accept(
      /**
       * An error handler to allow self-recovering behaviours.
       * @param {Error} error An error occurred during evaluation of a module.
       * @returns {void}
       */
      function hotErrorHandler(error) {
        if (
          typeof __react_refresh_error_overlay__ !== 'undefined' &&
          __react_refresh_error_overlay__
        ) {
          __react_refresh_error_overlay__.handleRuntimeError(error);
        }

        if (typeof __react_refresh_test__ !== 'undefined' && __react_refresh_test__) {
          if (window.onHotAcceptError) {
            window.onHotAcceptError(error.message);
          }
        }

        __webpack_require__.c[module.i].hot.accept(hotErrorHandler);
      }
    );

    if (isHotUpdate) {
      if (
        __react_refresh_utils__.isReactRefreshBoundary(prevExports) &&
        __react_refresh_utils__.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)
      ) {
        module.hot.invalidate();
      } else {
        __react_refresh_utils__.enqueueUpdate(
          /**
           * A function to dismiss the error overlay after performing React refresh.
           * @returns {void}
           */
          function updateCallback() {
            if (
              typeof __react_refresh_error_overlay__ !== 'undefined' &&
              __react_refresh_error_overlay__
            ) {
              __react_refresh_error_overlay__.clearRuntimeErrors();
            }
          }
        );
      }
    }
  } else {
    if (isHotUpdate && __react_refresh_utils__.isReactRefreshBoundary(prevExports)) {
      module.hot.invalidate();
    }
  }
}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ "./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js"), __webpack_require__(/*! ./node_modules/react-dev-utils/refreshOverlayInterop.js */ "./node_modules/react-dev-utils/refreshOverlayInterop.js")))

/***/ }),

/***/ "./src/firebase.ts":
/*!*************************!*\
  !*** ./src/firebase.ts ***!
  \*************************/
/*! exports provided: default, db, auth */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(__react_refresh_utils__, __react_refresh_error_overlay__) {/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "db", function() { return db; });
/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "auth", function() { return auth; });
/* harmony import */ var firebase_app__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! firebase/app */ "./node_modules/firebase/app/dist/index.esm.js");
/* harmony import */ var firebase_database__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! firebase/database */ "./node_modules/firebase/database/dist/index.esm.js");
/* harmony import */ var firebase_auth__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! firebase/auth */ "./node_modules/firebase/auth/dist/index.esm.js");
__webpack_require__.$Refresh$.runtime = __webpack_require__(/*! react-refresh/runtime */ "./node_modules/react-refresh/runtime.js");
__webpack_require__.$Refresh$.setup(module.i);


 // import "firebase/firebase-storage";

 // import firebase from 'firebase/app';
// import '@firebase/database'
// firebaseコンソールから取得

const firebaseConfig = {
  apiKey: "AIzaSyBMgLpqdddgG5plQhhTFN3KmNwMtCquK6s",
  authDomain: "tokyo-survival.firebaseapp.com",
  databaseURL: "https://tokyo-survival-default-rtdb.firebaseio.com",
  projectId: "tokyo-survival",
  storageBucket: "tokyo-survival.appspot.com",
  messagingSenderId: "953032005701",
  appId: "1:953032005701:web:df56c5e173995c61a3ab2c" // measurementId: process.env.REACT_APP_FIREBASE_MEASUREMENT_ID,

};
console.log(firebaseConfig); // Initialize Firebase

if (firebase_app__WEBPACK_IMPORTED_MODULE_0__["default"].apps.length === 0) {
  firebase_app__WEBPACK_IMPORTED_MODULE_0__["default"].initializeApp(firebaseConfig);
}

/* harmony default export */ __webpack_exports__["default"] = (firebase_app__WEBPACK_IMPORTED_MODULE_0__["default"]);
const db = firebase_app__WEBPACK_IMPORTED_MODULE_0__["default"].database();
const auth = firebase_app__WEBPACK_IMPORTED_MODULE_0__["default"].auth();

const currentExports = __react_refresh_utils__.getModuleExports(module.i);
__react_refresh_utils__.registerExportsForReactRefresh(currentExports, module.i);

if (true) {
  const isHotUpdate = !!module.hot.data;
  const prevExports = isHotUpdate ? module.hot.data.prevExports : null;

  if (__react_refresh_utils__.isReactRefreshBoundary(currentExports)) {
    module.hot.dispose(
      /**
       * A callback to performs a full refresh if React has unrecoverable errors,
       * and also caches the to-be-disposed module.
       * @param {*} data A hot module data object from Webpack HMR.
       * @returns {void}
       */
      function hotDisposeCallback(data) {
        // We have to mutate the data object to get data registered and cached
        data.prevExports = currentExports;
      }
    );
    module.hot.accept(
      /**
       * An error handler to allow self-recovering behaviours.
       * @param {Error} error An error occurred during evaluation of a module.
       * @returns {void}
       */
      function hotErrorHandler(error) {
        if (
          typeof __react_refresh_error_overlay__ !== 'undefined' &&
          __react_refresh_error_overlay__
        ) {
          __react_refresh_error_overlay__.handleRuntimeError(error);
        }

        if (typeof __react_refresh_test__ !== 'undefined' && __react_refresh_test__) {
          if (window.onHotAcceptError) {
            window.onHotAcceptError(error.message);
          }
        }

        __webpack_require__.c[module.i].hot.accept(hotErrorHandler);
      }
    );

    if (isHotUpdate) {
      if (
        __react_refresh_utils__.isReactRefreshBoundary(prevExports) &&
        __react_refresh_utils__.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)
      ) {
        module.hot.invalidate();
      } else {
        __react_refresh_utils__.enqueueUpdate(
          /**
           * A function to dismiss the error overlay after performing React refresh.
           * @returns {void}
           */
          function updateCallback() {
            if (
              typeof __react_refresh_error_overlay__ !== 'undefined' &&
              __react_refresh_error_overlay__
            ) {
              __react_refresh_error_overlay__.clearRuntimeErrors();
            }
          }
        );
      }
    }
  } else {
    if (isHotUpdate && __react_refresh_utils__.isReactRefreshBoundary(prevExports)) {
      module.hot.invalidate();
    }
  }
}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ "./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js"), __webpack_require__(/*! ./node_modules/react-dev-utils/refreshOverlayInterop.js */ "./node_modules/react-dev-utils/refreshOverlayInterop.js")))

/***/ }),

/***/ "./src/index.scss":
/*!************************!*\
  !*** ./src/index.scss ***!
  \************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

var api = __webpack_require__(/*! ../node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js */ "./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js");
            var content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!../node_modules/postcss-loader/src??postcss!../node_modules/resolve-url-loader??ref--5-oneOf-6-3!../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!./index.scss */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/resolve-url-loader/index.js?!./node_modules/sass-loader/dist/cjs.js?!./src/index.scss");

            content = content.__esModule ? content.default : content;

            if (typeof content === 'string') {
              content = [[module.i, content, '']];
            }

var options = {};

options.insert = "head";
options.singleton = false;

var update = api(content, options);


if (true) {
  if (!content.locals || module.hot.invalidate) {
    var isEqualLocals = function isEqualLocals(a, b, isNamedExport) {
  if (!a && b || a && !b) {
    return false;
  }

  var p;

  for (p in a) {
    if (isNamedExport && p === 'default') {
      // eslint-disable-next-line no-continue
      continue;
    }

    if (a[p] !== b[p]) {
      return false;
    }
  }

  for (p in b) {
    if (isNamedExport && p === 'default') {
      // eslint-disable-next-line no-continue
      continue;
    }

    if (!a[p]) {
      return false;
    }
  }

  return true;
};
    var oldLocals = content.locals;

    module.hot.accept(
      /*! !../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!../node_modules/postcss-loader/src??postcss!../node_modules/resolve-url-loader??ref--5-oneOf-6-3!../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!./index.scss */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/resolve-url-loader/index.js?!./node_modules/sass-loader/dist/cjs.js?!./src/index.scss",
      function () {
        content = __webpack_require__(/*! !../node_modules/css-loader/dist/cjs.js??ref--5-oneOf-6-1!../node_modules/postcss-loader/src??postcss!../node_modules/resolve-url-loader??ref--5-oneOf-6-3!../node_modules/sass-loader/dist/cjs.js??ref--5-oneOf-6-4!./index.scss */ "./node_modules/css-loader/dist/cjs.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/resolve-url-loader/index.js?!./node_modules/sass-loader/dist/cjs.js?!./src/index.scss");

              content = content.__esModule ? content.default : content;

              if (typeof content === 'string') {
                content = [[module.i, content, '']];
              }

              if (!isEqualLocals(oldLocals, content.locals)) {
                module.hot.invalidate();

                return;
              }

              oldLocals = content.locals;

              update(content);
      }
    )
  }

  module.hot.dispose(function() {
    update();
  });
}

module.exports = content.locals || {};

/***/ }),

/***/ "./src/index.tsx":
/*!***********************!*\
  !*** ./src/index.tsx ***!
  \***********************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(__react_refresh_utils__, __react_refresh_error_overlay__) {/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! react/jsx-dev-runtime */ "./node_modules/react/jsx-dev-runtime.js");
/* harmony import */ var react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__);
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react */ "./node_modules/react/index.js");
/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_1__);
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react-dom */ "./node_modules/react-dom/index.js");
/* harmony import */ var react_dom__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_2__);
/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./index.scss */ "./src/index.scss");
/* harmony import */ var _index_scss__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(_index_scss__WEBPACK_IMPORTED_MODULE_3__);
/* harmony import */ var _App__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./App */ "./src/App.tsx");
/* harmony import */ var _reportWebVitals__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./reportWebVitals */ "./src/reportWebVitals.ts");
__webpack_require__.$Refresh$.runtime = __webpack_require__(/*! react-refresh/runtime */ "./node_modules/react-refresh/runtime.js");
__webpack_require__.$Refresh$.setup(module.i);


var _jsxFileName = "C:\\Users\\hisayan\\Documents\\PLATEAU\\tokyo-survival\\src\\index.tsx";





react_dom__WEBPACK_IMPORTED_MODULE_2___default.a.render( /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])(react__WEBPACK_IMPORTED_MODULE_1___default.a.StrictMode, {
  children: /*#__PURE__*/Object(react_jsx_dev_runtime__WEBPACK_IMPORTED_MODULE_0__["jsxDEV"])(_App__WEBPACK_IMPORTED_MODULE_4__["default"], {}, void 0, false, {
    fileName: _jsxFileName,
    lineNumber: 9,
    columnNumber: 5
  }, undefined)
}, void 0, false, {
  fileName: _jsxFileName,
  lineNumber: 8,
  columnNumber: 3
}, undefined), document.getElementById('root')); // If you want to start measuring performance in your app, pass a function
// to log results (for example: reportWebVitals(console.log))
// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals

Object(_reportWebVitals__WEBPACK_IMPORTED_MODULE_5__["default"])();

const currentExports = __react_refresh_utils__.getModuleExports(module.i);
__react_refresh_utils__.registerExportsForReactRefresh(currentExports, module.i);

if (true) {
  const isHotUpdate = !!module.hot.data;
  const prevExports = isHotUpdate ? module.hot.data.prevExports : null;

  if (__react_refresh_utils__.isReactRefreshBoundary(currentExports)) {
    module.hot.dispose(
      /**
       * A callback to performs a full refresh if React has unrecoverable errors,
       * and also caches the to-be-disposed module.
       * @param {*} data A hot module data object from Webpack HMR.
       * @returns {void}
       */
      function hotDisposeCallback(data) {
        // We have to mutate the data object to get data registered and cached
        data.prevExports = currentExports;
      }
    );
    module.hot.accept(
      /**
       * An error handler to allow self-recovering behaviours.
       * @param {Error} error An error occurred during evaluation of a module.
       * @returns {void}
       */
      function hotErrorHandler(error) {
        if (
          typeof __react_refresh_error_overlay__ !== 'undefined' &&
          __react_refresh_error_overlay__
        ) {
          __react_refresh_error_overlay__.handleRuntimeError(error);
        }

        if (typeof __react_refresh_test__ !== 'undefined' && __react_refresh_test__) {
          if (window.onHotAcceptError) {
            window.onHotAcceptError(error.message);
          }
        }

        __webpack_require__.c[module.i].hot.accept(hotErrorHandler);
      }
    );

    if (isHotUpdate) {
      if (
        __react_refresh_utils__.isReactRefreshBoundary(prevExports) &&
        __react_refresh_utils__.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)
      ) {
        module.hot.invalidate();
      } else {
        __react_refresh_utils__.enqueueUpdate(
          /**
           * A function to dismiss the error overlay after performing React refresh.
           * @returns {void}
           */
          function updateCallback() {
            if (
              typeof __react_refresh_error_overlay__ !== 'undefined' &&
              __react_refresh_error_overlay__
            ) {
              __react_refresh_error_overlay__.clearRuntimeErrors();
            }
          }
        );
      }
    }
  } else {
    if (isHotUpdate && __react_refresh_utils__.isReactRefreshBoundary(prevExports)) {
      module.hot.invalidate();
    }
  }
}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ "./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js"), __webpack_require__(/*! ./node_modules/react-dev-utils/refreshOverlayInterop.js */ "./node_modules/react-dev-utils/refreshOverlayInterop.js")))

/***/ }),

/***/ "./src/reportWebVitals.ts":
/*!********************************!*\
  !*** ./src/reportWebVitals.ts ***!
  \********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
__webpack_require__.r(__webpack_exports__);
/* WEBPACK VAR INJECTION */(function(__react_refresh_utils__, __react_refresh_error_overlay__) {__webpack_require__.$Refresh$.runtime = __webpack_require__(/*! react-refresh/runtime */ "./node_modules/react-refresh/runtime.js");
__webpack_require__.$Refresh$.setup(module.i);

const reportWebVitals = onPerfEntry => {
  if (onPerfEntry && onPerfEntry instanceof Function) {
    __webpack_require__.e(/*! import() */ 1).then(__webpack_require__.bind(null, /*! web-vitals */ "./node_modules/web-vitals/dist/web-vitals.es5.min.js")).then(({
      getCLS,
      getFID,
      getFCP,
      getLCP,
      getTTFB
    }) => {
      getCLS(onPerfEntry);
      getFID(onPerfEntry);
      getFCP(onPerfEntry);
      getLCP(onPerfEntry);
      getTTFB(onPerfEntry);
    });
  }
};

/* harmony default export */ __webpack_exports__["default"] = (reportWebVitals);

const currentExports = __react_refresh_utils__.getModuleExports(module.i);
__react_refresh_utils__.registerExportsForReactRefresh(currentExports, module.i);

if (true) {
  const isHotUpdate = !!module.hot.data;
  const prevExports = isHotUpdate ? module.hot.data.prevExports : null;

  if (__react_refresh_utils__.isReactRefreshBoundary(currentExports)) {
    module.hot.dispose(
      /**
       * A callback to performs a full refresh if React has unrecoverable errors,
       * and also caches the to-be-disposed module.
       * @param {*} data A hot module data object from Webpack HMR.
       * @returns {void}
       */
      function hotDisposeCallback(data) {
        // We have to mutate the data object to get data registered and cached
        data.prevExports = currentExports;
      }
    );
    module.hot.accept(
      /**
       * An error handler to allow self-recovering behaviours.
       * @param {Error} error An error occurred during evaluation of a module.
       * @returns {void}
       */
      function hotErrorHandler(error) {
        if (
          typeof __react_refresh_error_overlay__ !== 'undefined' &&
          __react_refresh_error_overlay__
        ) {
          __react_refresh_error_overlay__.handleRuntimeError(error);
        }

        if (typeof __react_refresh_test__ !== 'undefined' && __react_refresh_test__) {
          if (window.onHotAcceptError) {
            window.onHotAcceptError(error.message);
          }
        }

        __webpack_require__.c[module.i].hot.accept(hotErrorHandler);
      }
    );

    if (isHotUpdate) {
      if (
        __react_refresh_utils__.isReactRefreshBoundary(prevExports) &&
        __react_refresh_utils__.shouldInvalidateReactRefreshBoundary(prevExports, currentExports)
      ) {
        module.hot.invalidate();
      } else {
        __react_refresh_utils__.enqueueUpdate(
          /**
           * A function to dismiss the error overlay after performing React refresh.
           * @returns {void}
           */
          function updateCallback() {
            if (
              typeof __react_refresh_error_overlay__ !== 'undefined' &&
              __react_refresh_error_overlay__
            ) {
              __react_refresh_error_overlay__.clearRuntimeErrors();
            }
          }
        );
      }
    }
  } else {
    if (isHotUpdate && __react_refresh_utils__.isReactRefreshBoundary(prevExports)) {
      module.hot.invalidate();
    }
  }
}
/* WEBPACK VAR INJECTION */}.call(this, __webpack_require__(/*! ./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js */ "./node_modules/@pmmmwh/react-refresh-webpack-plugin/lib/runtime/RefreshUtils.js"), __webpack_require__(/*! ./node_modules/react-dev-utils/refreshOverlayInterop.js */ "./node_modules/react-dev-utils/refreshOverlayInterop.js")))

/***/ }),

/***/ 0:
/*!*******************************************************************************************************************************************************************!*\
  !*** multi ./node_modules/@pmmmwh/react-refresh-webpack-plugin/client/ReactRefreshEntry.js ./node_modules/react-dev-utils/webpackHotDevClient.js ./src/index.tsx ***!
  \*******************************************************************************************************************************************************************/
/*! no static exports found */
/***/ (function(module, exports, __webpack_require__) {

__webpack_require__(/*! C:\Users\hisayan\Documents\PLATEAU\tokyo-survival\node_modules\@pmmmwh\react-refresh-webpack-plugin\client\ReactRefreshEntry.js */"./node_modules/@pmmmwh/react-refresh-webpack-plugin/client/ReactRefreshEntry.js");
__webpack_require__(/*! C:\Users\hisayan\Documents\PLATEAU\tokyo-survival\node_modules\react-dev-utils\webpackHotDevClient.js */"./node_modules/react-dev-utils/webpackHotDevClient.js");
module.exports = __webpack_require__(/*! C:\Users\hisayan\Documents\PLATEAU\tokyo-survival\src\index.tsx */"./src/index.tsx");


/***/ })

},[[0,"runtime-main",0]]]);
//# sourceMappingURL=main.chunk.js.map